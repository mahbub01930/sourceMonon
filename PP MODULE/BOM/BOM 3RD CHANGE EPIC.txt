-----------------------------------------------------------------------------

----BOM---3RD CHANGE--EXTENSION OF API---
---LEFT PANEL ACCRODIAN---TWO (2) API's- ONE NEW API- ONE OLD API MODIFICATION

1. BOM LEFT PANEL(PRODUCT LIST VIEW)-LANDING MODE--PRODUCT ACCORDIAN--NEW API
API NAME : http://203.188.245.58:8889/api/pp/get-prod-bom-list
API TYPE : GET

Response Fields :  
	   BM.MAT_PROD_ID, AP.PROD_NAME
	 
Operational Fields: 
	   DISTINCT BM.MAT_PROD_ID, AP.PROD_NAME

PARAMETER :  

Table Name: PP_BOM_MST BM
            ADM_PRODUCTS AP

Relation : 
       BM.MAT_PROD_ID = AP.ID
            
Filter by:   
            ORDER BY AP.PROD_NAME


QUERY :

SELECT DISTINCT BM.MAT_PROD_ID, AP.PROD_NAME
  FROM PP_BOM_MST BM 
  JOIN ADM_PRODUCTS AP ON BM.MAT_PROD_ID = AP.ID
 ORDER BY AP.PROD_NAME;

------------------------------------------------------------------------------

-1.1--PROD WISE BOM LIST---1st API--NEEDS MODIFICATION
API NAME : http://203.188.245.58:8889/api/pp/get-bom-mst-list/{pPROD_ID}
API TYPE : GET


Response Fields :  
	   BM.DISPLAY_CODE, BM.BATCH_SIZE, BM.BATCH_UOM, ACE.ELEMENT_NAME
	 
Operational Fields: 
	   BM.ID BOM_ID, BM.DISPLAY_CODE, BM.BATCH_SIZE, BM.BATCH_UOM, FD_GET_BASE_UOM(BM.BATCH_UOM) AS BATCH_UOM_NAME, 
	   BM.TRAN_STATUS, ACE.ELEMENT_NAME, BM.IS_ACTIVE, BM.STATUS

PARAMETER :  WHERE BM.MAT_PROD_ID = :pPROD_ID --138/107

Table Name: PP_BOM_MST BM
            ADM_CODE_ELEMENTS ACE

Relation : 
       ACE.ID = BM.TRAN_STATUS
            
Filter by:   
            

QUERY : 

 SELECT BM.ID BOM_ID,BM.DISPLAY_CODE,BM.BATCH_SIZE, BM.BATCH_UOM, FD_GET_BASE_UOM(BM.BATCH_UOM) AS BATCH_UOM_NAME,BM.TRAN_STATUS,ACE.ELEMENT_NAME,BM.IS_ACTIVE,BM.STATUS
   FROM PP_BOM_MST BM 
   LEFT JOIN ADM_CODE_ELEMENTS ACE ON ACE.ID = BM.TRAN_STATUS
  WHERE BM.MAT_PROD_ID = :pPROD_ID; --138
 

--------------------------------------------------------------------------
----ONE NEW API TO VIEW BMR INFO DATA SHOW- AFTER CLICK ON THE BOM ID FROM LEFT PANEL-------
API TYPE : GET
API NAME : api/pp/get-bmr-info-data/{pBOM_ID}

Response Fields :   EFFECTIVE_DATE,CORE_WEIGHT, CORE_UOM, CORE_UOM_DESC, COATED_WEIGHT, 
                    COATED_UOM, COATED_UOM_DESC, CHANGE_HISTORY, REVISION_NO, FILL_WEIGHT, FILL_WEIGHT_UOM, FILL_WEIGHT_UOM_DESC, FILL_VOLUME, 
                    FILL_VOL_UOM, FILL_VOL_UOM_DESC, DESCRIPTION, OTHER_INFO, LABEL_CLAIM, SIZE_SHAPE
	  
Operational Fields: PROD_ID, BMR_ID, EFFECTIVE_DATE, BOM_ID, CORE_WEIGHT, CORE_UOM, CORE_UOM_DESC, COATED_WEIGHT, 
                    COATED_UOM, COATED_UOM_DESC, CHANGE_HISTORY, REVISION_NO, FILL_WEIGHT, FILL_WEIGHT_UOM, FILL_WEIGHT_UOM_DESC, FILL_VOLUME, 
                    FILL_VOL_UOM, FILL_VOL_UOM_DESC, DESCRIPTION, OTHER_INFO, LABEL_CLAIM, SIZE_SHAPE

PARAMETER  : BOM_ID = :pBOM_ID

Table Name: PP_BMR_MASTER 

Relation : 	
    
Filter by:  WHERE  STATUS = 1 

QUERY : 

SELECT PROD_ID,ID BMR_ID,EFFECTIVE_DATE, BOM_ID,CORE_WEIGHT, CORE_UOM,JERP_ADM.FD_GET_BASE_UOM(CORE_UOM) CORE_UOM_DESC, 
COATED_WEIGHT,COATED_UOM,JERP_ADM.FD_GET_BASE_UOM(COATED_UOM) COATED_UOM_DESC,CHANGE_HISTORY, REVISION_NO,FILL_WEIGHT,
FILL_WEIGHT_UOM,JERP_ADM.FD_GET_BASE_UOM(COATED_UOM) FILL_WEIGHT_UOM_DESC, FILL_VOLUME, FILL_VOL_UOM,
JERP_ADM.FD_GET_BASE_UOM(COATED_UOM) FILL_VOL_UOM_DESC, DESCRIPTION, OTHER_INFO, LABEL_CLAIM, SIZE_SHAPE 
FROM PP_BMR_MASTER
WHERE BOM_ID = :pBOM_ID --1264

--------------------------------------------



GET BMR PROCESS INFO DATA  
API TYPE : GET
API NAME : api/pp/get-bmr-process-data

Response Fields :  

        PPTP.PROCESS_ID,PPC.PROCESS_NAME,PPTP.SUB_PROCESS_ID,PPC1.PROCESS_NAME AS SUB_PROCESS_NAME,PPTP.WIP_STAGE_ID,ACE.ELEMENT_NAME,
        PPTP.IPQC_REQUIRED, PPTP.QC_REQUIRED, PPTP.RECONCILIATION_REQUIRED,PPTP.TOTAL_PROCESS_TIME,PPTP.IS_MACHINE_GROUP,PPTP.PROCESS_SEQUENCE
	  
Operational Fields: 
		PPTP.PROCESS_ID,PPC.PROCESS_NAME,PPTP.SUB_PROCESS_ID,PPC1.PROCESS_NAME AS SUB_PROCESS_NAME,PPTP.WIP_STAGE_ID,ACE.ELEMENT_NAME,
        PPTP.IPQC_REQUIRED, PPTP.QC_REQUIRED, PPTP.RECONCILIATION_REQUIRED,PPTP.TOTAL_PROCESS_TIME,PPTP.IS_MACHINE_GROUP,PPTP.PROCESS_SEQUENCE
         
PARAMETER  : WHERE PPPT.PROD_ID = :pPROD_ID 
             AND PPPT.SBU_ID = :pSBU_ID

Table Name:   PP_PROD_PROC_TYPE = PPPT
			  PP_PROC_TYPE_PROCESS  = PPTP 
			  PP_PROCESS_CONFIG = PPC
			  PP_PROCESS_CONFIG = PPC1
			  ADM_CODE_ELEMENTS = ACE
			
Relation : 	PPTP.PROD_PROC_TYPE_ID = PPPT.ID
            PPC.ID = PPTP.PROCESS_ID
            PPC1.ID = PPTP.SUB_PROCESS_ID
            ACE.ID = PPTP.WIP_STAGE_ID
			
Filter by:  WHERE PPTP.WIP_STAGE_ID = 7611
                  
QUERY :
   
SELECT PPTP.PROCESS_ID,PPC.PROCESS_NAME,PPTP.SUB_PROCESS_ID,PPC1.PROCESS_NAME AS SUB_PROCESS_NAME,PPTP.WIP_STAGE_ID,ACE.ELEMENT_NAME,
PPTP.IPQC_REQUIRED, PPTP.QC_REQUIRED, PPTP.RECONCILIATION_REQUIRED,PPTP.TOTAL_PROCESS_TIME,PPTP.IS_MACHINE_GROUP, PPTP.PROCESS_SEQUENCE
FROM PP_PROD_PROC_TYPE PPPT
LEFT JOIN PP_PROC_TYPE_PROCESS  PPTP ON PPTP.PROD_PROC_TYPE_ID = PPPT.ID
LEFT JOIN PP_PROCESS_CONFIG PPC ON PPC.ID = PPTP.PROCESS_ID
LEFT JOIN PP_PROCESS_CONFIG PPC1 ON PPC1.ID = PPTP.SUB_PROCESS_ID
LEFT JOIN ADM_CODE_ELEMENTS ACE ON ACE.ID = PPTP.WIP_STAGE_ID
WHERE PPPT.PROD_ID = :pPROD_ID --107
AND PPPT.SBU_ID = :pSBU_ID --2
AND PPTP.WIP_STAGE_ID = 7611 -- WIP-BULK AND 7622 -- WIP-SEMI-FINISHED
GROUP BY PPTP.PROCESS_ID,PPC.PROCESS_NAME,PPTP.SUB_PROCESS_ID,PPC1.PROCESS_NAME,PPTP.WIP_STAGE_ID,ACE.ELEMENT_NAME,
PPTP.IPQC_REQUIRED, PPTP.QC_REQUIRED, PPTP.RECONCILIATION_REQUIRED,PPTP.TOTAL_PROCESS_TIME,PPTP.IS_MACHINE_GROUP, PPTP.PROCESS_SEQUENCE
ORDER BY PPTP.PROCESS_SEQUENCE;

----------------------------------------------------------


GET BPR PROCESS INFO DATA  
API TYPE : GET
API NAME : api/pp/get-bpr-process-data

Response Fields :  

        PPTP.PROCESS_ID,PPC.PROCESS_NAME,PPTP.SUB_PROCESS_ID,PPC1.PROCESS_NAME AS SUB_PROCESS_NAME,PPTP.WIP_STAGE_ID,ACE.ELEMENT_NAME,
        PPTP.IPQC_REQUIRED, PPTP.QC_REQUIRED, PPTP.RECONCILIATION_REQUIRED,PPTP.TOTAL_PROCESS_TIME,PPTP.IS_MACHINE_GROUP,PPTP.PROCESS_SEQUENCE
	  
Operational Fields: 
		PPTP.PROCESS_ID,PPC.PROCESS_NAME,PPTP.SUB_PROCESS_ID,PPC1.PROCESS_NAME AS SUB_PROCESS_NAME,PPTP.WIP_STAGE_ID,ACE.ELEMENT_NAME,
        PPTP.IPQC_REQUIRED, PPTP.QC_REQUIRED, PPTP.RECONCILIATION_REQUIRED,PPTP.TOTAL_PROCESS_TIME,PPTP.IS_MACHINE_GROUP,PPTP.PROCESS_SEQUENCE
         
PARAMETER  : WHERE PPPT.PROD_ID = :pPROD_ID 
             AND PPPT.SBU_ID = :pSBU_ID

Table Name:   PP_PROD_PROC_TYPE = PPPT
			  PP_PROC_TYPE_PROCESS  = PPTP 
			  PP_PROCESS_CONFIG = PPC
			  PP_PROCESS_CONFIG = PPC1
			  ADM_CODE_ELEMENTS = ACE
			
Relation : 	PPTP.PROD_PROC_TYPE_ID = PPPT.ID
            PPC.ID = PPTP.PROCESS_ID
            PPC1.ID = PPTP.SUB_PROCESS_ID
            ACE.ID = PPTP.WIP_STAGE_ID
			
Filter by:  WHERE PPTP.WIP_STAGE_ID = 7612
                  
QUERY :
   
SELECT PPTP.PROCESS_ID,PPC.PROCESS_NAME,PPTP.SUB_PROCESS_ID,PPC1.PROCESS_NAME AS SUB_PROCESS_NAME,PPTP.WIP_STAGE_ID,ACE.ELEMENT_NAME,
PPTP.IPQC_REQUIRED, PPTP.QC_REQUIRED, PPTP.RECONCILIATION_REQUIRED,PPTP.TOTAL_PROCESS_TIME,PPTP.IS_MACHINE_GROUP,PPTP.PROCESS_SEQUENCE
FROM PP_PROD_PROC_TYPE PPPT
LEFT JOIN PP_PROC_TYPE_PROCESS  PPTP ON PPTP.PROD_PROC_TYPE_ID = PPPT.ID
LEFT JOIN PP_PROCESS_CONFIG PPC ON PPC.ID = PPTP.PROCESS_ID
LEFT JOIN PP_PROCESS_CONFIG PPC1 ON PPC1.ID = PPTP.SUB_PROCESS_ID
LEFT JOIN ADM_CODE_ELEMENTS ACE ON ACE.ID = PPTP.WIP_STAGE_ID
WHERE PPPT.PROD_ID = :pPROD_ID --191
AND PPPT.SBU_ID = :pSBU_ID --2
AND PPTP.WIP_STAGE_ID = 7612 -- WIP-BULK AND 7612 -- WIP-SEMI-FINISHED
GROUP BY PPTP.PROCESS_ID,PPC.PROCESS_NAME,PPTP.SUB_PROCESS_ID,PPC1.PROCESS_NAME,PPTP.WIP_STAGE_ID,ACE.ELEMENT_NAME,
PPTP.IPQC_REQUIRED, PPTP.QC_REQUIRED, PPTP.RECONCILIATION_REQUIRED,PPTP.TOTAL_PROCESS_TIME,PPTP.IS_MACHINE_GROUP,PPTP.PROCESS_SEQUENCE;

---------------------------------------



